# 2026-02-14

## What I shipped
- Fixed a hard crash in `training/pretrain/train_ssl_contrastive_v0.py`: the encoder was moved to `device` before `device` was defined.
- Added temporal SSL plumbing: an episodes-backed temporal-pair dataset + a minimal `train_ssl_temporal_contrastive_v0.py` script for InfoNCE on (t, t+k) within the same camera.

## Notes
- This enables the next planned SSL upgrade (temporal positives) without changing the existing multi-camera contrastive script.
- Next: run on real Waymo episode shards and record throughput/memory; tune loader knobs + cache sizing.

## Notes
- This unblocks running the SSL contrastive v0 pretrain end-to-end on episode shards (next: run + record throughput/memory).
# 2026-02-14 (ET) — ClawBot daily log

## Focus
Driving-first execution: **Waymo episodes → PyTorch SSL pretrain → waypoint BC → CARLA ScenarioRunner**.

## CL #1: make Waymo episode shards portable (relative `image_path` by default)

### What changed
- `data/waymo/convert.py`
  - TFRecord conversion now writes `image_path` as a path **relative to the episode JSON directory** (e.g. `images/<timestamp>_<cam>.jpg`) by default.
  - Added flags:
    - `--relative-image-paths` (default)
    - `--absolute-image-paths` (opt-out)

### Why
- Absolute paths make episode shards non-portable and break downstream training when moved between machines / environments.
- `training/pretrain/dataloader_episodes.py` already resolves relative paths against the episode JSON’s directory, so this makes the “Waymo → episodes → pretrain dataloader” contract cleaner and more robust.

### Follow-ups
- Decide whether to enforce relative paths in schema validation (or allow both but recommend relative).
- Add a tiny smoke test: convert a short TFRecord and load with `EpisodesFrameDataset(decode_images=True)`.
