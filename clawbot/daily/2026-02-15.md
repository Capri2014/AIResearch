# 2026-02-15

## What I shipped
- **ScenarioRunner output parser**: Added `_parse_srunner_output()` to `sim/driving/carla_srunner/run_srunner_eval.py` that extracts:
  - `route_completion` (fraction 0-1)
  - `collisions`, `offroad`, `red_light` infractions
  - `comfort` metrics (max_accel, max_jerk)
  - Parses both JSON result files (scenario_result.json, results.json) and structured log patterns
- Wired parsed metrics into the main eval loop, populating schema-compatible `metrics.json` with real SR outputs

## Why it matters
- Enables quantitative evaluation of waypoint BC policies in CARLA
- Unblocks tracking route completion vs. safety infractions across training runs
- Makes ScenarioRunner eval harness production-ready for closed-loop policy testing

## Next
- Wire the Torch `WaypointPolicyTorch` into closed-loop ScenarioRunner runs (policy serves waypoints to SR)
- Add `--policy-checkpoint` support for loading trained BC models
- Test end-to-end with a small scenario to validate metric extraction
